<mat-card class="simulacao-card">
    <mat-card-header>
        <mat-card-title>Simulação</mat-card-title>
        <mat-card-subtitle>Data da simulação: <strong>09/07/2019</strong> | Taxa de juros efetiva com bonificação: <strong>7,99</strong> % a.a. <strong>0,64</strong> % a.m. + TR | Custo Efetivo Total (CET) com bonificação: <strong>8,60</strong> % a.a. | <br> Custo Efetivo do Seguro Habitacional (CESH): <strong>2,4584</strong> % | Prazo: <strong>35</strong> anos</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content> 
        <table mat-table #tableSimulacao [dataSource]="simulacoes" class="tabela-simulacao" [formGroup]="formSim">
            <ng-container matColumnDef="composicao">
                <th mat-header-cell *matHeaderCellDef> Composição </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.composicao}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="composicao" required placeholder="Composição" >  
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="total">
                <th mat-header-cell *matHeaderCellDef> Total </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.total}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="total" required placeholder="Total" [value]="formSim.get('total').value | currency:'BRL'">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="entrada">
                <th mat-header-cell *matHeaderCellDef> Entrada </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.entrada}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="entrada" required placeholder="Entrada" [value]="formSim.get('entrada').value | currency:'BRL'">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="pctEntrada">
                <th mat-header-cell *matHeaderCellDef> % </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.pctEntrada}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="pctEntrada" required placeholder="%" [value]="formSim.get('pctEntrada').value | percent">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="financiamento">
                <th mat-header-cell *matHeaderCellDef> Financiamento </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.financiamento}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="financiamento" required placeholder="Financiamento" [value]="formSim.get('financiamento').value | currency:'BRL'">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="pctFinanciamento">
                <th mat-header-cell *matHeaderCellDef> % </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.pctFinanciamento}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="pctFinanciamento" required placeholder="%" [value]="formSim.get('pctFinanciamento').value | percent">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="reforma">
                <th mat-header-cell *matHeaderCellDef> Reforma </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.reforma}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="reforma" required placeholder="Reforma" [value]="formSim.get('reforma').value | currency:'BRL'">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="vlParcela">
                <th mat-header-cell *matHeaderCellDef> Vl. 1ª Parcela </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.vlParcela}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="vlParcela" required placeholder="Vl. 1ª Parcela">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="finTaxas">
                <th mat-header-cell *matHeaderCellDef> Fin. Taxas </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.finTaxas}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="finTaxas" placeholder="Fin. Taxas">
                    </mat-form-field>                            
                </td>
            </ng-container>
            <ng-container matColumnDef="comporRenda">
                <th mat-header-cell *matHeaderCellDef> Compor Renda </th>
                <td mat-cell *matCellDef="let simulacao"> {{simulacao.comporRenda}} </td>
                <td mat-footer-cell *matFooterCellDef>
                    <mat-form-field floatLabel='never'>
                        <input matInput formControlName="comporRenda" placeholder="Compor Renda">
                    </mat-form-field>                            
                </td>
            </ng-container>   
            
            <tr mat-header-row *matHeaderRowDef="colunasSimulacao"></tr>
            <tr mat-row *matRowDef="let simulacao; columns: colunasSimulacao;"></tr>
            <tr mat-footer-row *matFooterRowDef="colunasSimulacao"></tr>
        </table>                
    </mat-card-content>
    <mat-card-actions>
        <button mat-button (click)="addSimulacao()"><mat-icon>add</mat-icon></button>
        <button mat-button [disabled]="!formSim.valid" (click)="saveSimulacao()"><mat-icon>save</mat-icon></button>
    </mat-card-actions>
</mat-card>